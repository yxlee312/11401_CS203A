## 1.雜湊的核心定義與目標
### 雜湊是一種儲存「鍵值對」（Key-Value Pairs）的資料結構，其目的是透過 雜湊函數（Hash Function） 將鍵（Key）轉換為陣列中的索引（Index），進而達到 平均常數時間 O(1) 的插入、刪除與搜尋效率。
#### 字典（Dictionary）概念：字典是鍵值對的集合，每個鍵對應一個項目。雜湊表就像是字典的索引頁，幫助我們快速定位資訊而不需要掃描整個集合。
#### 組成要素：
- 桶子（Bucket）：雜湊表陣列中的儲存單元。
- 雜湊函數：將 Value1（鍵）映射到記憶體位置（索引）的數學規則。
## 2.雜湊函數的設計 (Hash Function Design)
### 一個好的雜湊函數必須具備 決定性（Deterministic）、均勻性（Uniform） 以及 高效性（Efficient）。
### 常見方法：
#### 除法（Division Method）：h(k)=kmodm。建議m選擇質數，如1009, 10007以減少重複模式。
#### 乘法（Multiplication Method）：利用小數部分與m相乘後取整數。
- 折疊法（Folding Method）：將大整數切割成等長部分相加。例如 123456 切為 12+34+56=102。
- 字串雜湊（String Hashing）：將字元轉換為 ASCII 碼後結合。進階做法是使用 多項式滾動雜湊（Polynomial rolling hash） 以獲得更好的分佈效果。
## 3.碰撞處理 (Collision Handling)
### 當兩個不同的鍵經過雜湊函數計算後得到相同的索引時，即發生 碰撞（Collision）。
#### 鏈結法 (Separate Chaining)：
- 在每個索引位置維護一個 鏈結串列（Linked List）。
- 優點：簡單且具彈性；缺點：需要額外指標空間。
#### 開放定址法 (Open Addressing)：
- 當發生碰撞時，根據 探測（Probing） 序列尋找下一個空位。
- 線性探測 (Linear Probing)：循序檢查下一個位置。容易造成 原始聚集（Primary Clustering），即連續佔用的格子形成擁擠區，降低效率。
- 平方探測 (Quadratic Probing)：探測間隔隨平方增加。可減少聚集，但可能產生 二次聚集（Secondary Clustering），且不保證能遍歷所有格子。
- 雙重雜湊 (Double Hashing)：使用第二個雜湊函數決定探測步長，能提供更好的分佈並降低聚集效應。
## 4.效能與時間複雜度
### 關於雜湊（Hashing）的效能與時間複雜度，根據來源內容，可以將其表現分為「鏈結法」與「開放定址法」兩大類別，並從負載因子與各種操作的效率來深入說明：
#### 鏈結法 (Separate Chaining) 的效能
#### 在鏈結法中，雜湊表的每個索引都維護一個存放鍵值對的鏈結串列。其效能表現如下：
- 搜尋 (Search)：在平均情況下，時間複雜度為 O(1+α)，其中 α 為負載因子。如果 α 保持在較小範圍，搜尋效率接近常數時間 O(1)。但在最差情況下（例如所有鍵都碰撞到同一個桶子），搜尋時間會退化至 O(n)。
- 插入 (Insert)：插入操作通常只需 O(1)，因為它是將新節點附加到該索引對應的短鏈結中。
- 刪除 (Delete)：平均時間複雜度同樣為 O(1)，這包含搜尋特定鍵與解除節點連結的操作。但在最差情況下仍可能達到 O(n)。
#### 開放定址法 (Open Addressing) 的效能
#### 開放定址法透過探測（Probing）來解決碰撞，將數據直接存放在陣列的其他空位中。
- 搜尋 (Search)：在平均情況下（通常負載因子 α≤0.7 時），搜尋時間為 O(1)。然而，隨著負載因子增加，探測鏈會變長，導致效率顯著下降。最差情況為 O(n)。
- 插入 (Insert)：平均為 O(1)，但在高負載下可能需要多次探測才能找到空位。
- 刪除 (Delete)：平均為 O(1)。值得注意的是，開放定址法在刪除時需要特別處理，通常會使用「延遲刪除（Lazy Delete）」來標記空格，以確保不會中斷後續的探測鏈。
#### α對效能的關鍵影響
#### 定義為「元素個數 (n)」除以「雜湊表大小 (m)」，即 α=n/m。它是衡量雜湊表「有多滿」的指標。
- 碰撞頻率：當 α 增加時，碰撞發生的頻率會隨之提高，進而觸發探測機制或增加鏈結長度，導致操作變慢。
- 臨界值與調整：通常會設定一個負載因子上限（例如 0.75），一旦超過此閾值，就會觸發 Resize 操作（重新調整大小），將雜湊表擴大（通常是兩倍大小）以維持效能。
- 聚集效應 (Clustering)：在開放定址法中，某些探測方法（如線性探測）會產生「原始聚集」現象，即被佔用的格子會形成連續區域，讓新加入的鍵更有可能掉進擁擠區，進一步拖慢速度。
#### 搜尋效率的核心原則
#### 雜湊表之所以高效，是因為它能透過計算索引來縮減搜尋空間，在理想情況下能排除大部分不必要的候選對象，這與二元搜尋（Binary Search）或二元搜尋樹（BST）的原理相似，但雜湊在平均情況下更接近常數時間的表現。
## 靜態 vs. 動態雜湊
### 靜態雜湊 (Static Hashing)：雜湊表大小固定。當負載因子過高時，效能會嚴重下降，必須重建整個表（Rehashing）。
### 動態雜湊 (Dynamic Hashing)：雜湊表可根據記錄數量自動增長或縮減。當 α 超過閾值（通常為 0.75）時會觸發 Resize（重新調整大小），以維持高效能。
## 應用實例
### DNS 快取 (DNS Caching)：將網域名稱（如 example.com）與 IP 位址（如 192.0.0.15）建立對應，實現快速查詢。
### 字典實作：存儲單字與其定義的關聯。
